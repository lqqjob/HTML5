<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>使用画布图像</title>
		<style type="text/css">
			canvas {
				border: thin solid black;
			}
			body > * {
				float: left;
			}
		</style>
	</head>
	<body>
		<video id="vid" width="360" height="240" src="IMG_0970.MOV" controls preload="auto">
			Video cannot be displayed.
		</video>
		
		<canvas id="canvas" width="360" height="240" preload = "auto">
			Your browser doesn't support the <code>canvas</code> element.
		</canvas>
		
		<div >
			<button id="pressme">Snapshot</button>
		</div>
		<canvas id="canvas2" width="360" height="240" preload = "auto">
			Your browser doesn't support the <code>canvas</code> element.
		</canvas>
		<script>
			var srcCanvasElement = document.getElementById("canvas");
			var ctx = srcCanvasElement.getContext("2d");
			var ctx2 = document.getElementById("canvas2").getContext("2d");

			var imageElement = document.getElementById("vid");
			document.getElementById("pressme").onclick = takeSnapshot;
			
			var width = 100;
			var height = 10;
			ctx.lineWidth = 5;
			ctx.strokeStyle = "red";
			
			ctx2.lineWidth = 30;
			ctx2.strokeStyle = "black";
			
			setInterval(function(){
				ctx.drawImage(imageElement,0,0,360,240);
				ctx.strokeRect(180-(width/2),120 - (height/2),width,height);
			},25);
			
			setInterval(function(){
				width = (width +1) % 200;
				height = (height + 3) % 200;
			},100);
			
			function takeSnapshot() {
				ctx2.drawImage(srcCanvasElement,0,0,360,240);
				ctx2.strokeRect(0,0,360,240);
			}
			
		</script>
	</body>
</html>
